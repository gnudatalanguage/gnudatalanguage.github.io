
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

<title>GDL - GNU Data Language</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/colourise.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GDL on Windows" href="GDL-on-Windows.html" />
    <link rel="prev" title="GDL on Linux" href="GDL-on-Linux.html" /> 
  </head><body>
  <div id="wrap">
    <div id="header">
      <h1 id="logo-text"><a href="index.html">GDL - GNU Data Language</a></h1>
      <p id="intro">
        A free and open-source IDL<sup>®*</sup>/PV-WAVE<sup>**</sup> compiler<br>
        <small>
          * IDL is a registered trademark of <a
            href="http://exelisvis.com/">Exelis Visual Information
            Solutions</a><br>
          ** PV-WAVE is a product of <a href="http://roguewave.com/">Rogue Wave
            Software</a>
        </small><br>
      </p>
      <div id="nav">
        <ul>
          <li><a href="../index.html">Main</a></li>
          <li><a href="../screenshots.html">Screenshots</a></li>
          <li><a href="../downloads.html">Downloads</a></li>
          <li><a href="../wiki.html">Wiki</a></li>
        </ul>
      </div>
    </div>

    <div id="content-wrap">
      <div id="main">
          
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="gdl-on-osx">
<h1>GDL on OSX<a class="headerlink" href="#gdl-on-osx" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Way</span> <span class="pre">0</span></code></p>
<p>GDL is available from:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://formulae.brew.sh/formula/gdl#default">Homebrew</a> thanks &#64;fxcoudert</p></li>
<li><p><a class="reference external" href="https://www.macports.org/">Macports</a>: known as gnudatalanguage, version 1.0.0-rc3 thanks &#64;tenomoto – version for M1 available</p></li>
<li><p><a class="reference external" href="http://finkproject.org/pdb/package.php/gdl">Fink</a>, thanks &#64;Seb</p></li>
</ul>
<p><strong>But watch carefully, those distributions may be well out-of-date by now</strong>, as GDL is continuously improving (see what happened on our Github repo since)</p>
<p>So the <strong>easiest now</strong> is, since <a class="reference external" href="https://github.com/gnudatalanguage/gdl/pull/1459">#1457</a>, to <strong>just download the unstable <a class="reference external" href="https://github.com/gnudatalanguage/gdl/releases/download/weekly-release/gdl-macOS-x86_64-standard.dmg">weekly DMG</a></strong> and use it.</p>
<p><strong>Or the stable one, see <a class="reference external" href="https://github.com/gnudatalanguage/gdl/releases">Releases</a></strong></p>
<p><em>or</em> <code class="docutils literal notranslate"><span class="pre">Way</span> <span class="pre">1</span></code></p>
<ol class="simple">
<li><p>de-activate any conda (miniconda, anaconda) related env.</p></li>
<li><p><a class="reference external" href="https://docs.brew.sh/Installation">install Homebrew using the one-liner command</a></p></li>
<li><p>Using Brew, install the required libraries (cmake, g++ …).</p></li>
<li><p>Download the gdl code, and run gdl/scripts/build_gdl.sh several times:</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build_gdl.sh</span> <span class="pre">prep</span></code> will install the required libraries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">build_gdl.sh</span> <span class="pre">configure</span></code> will prepare the make file for compilation in next step.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">build_gdl.sh</span> <span class="pre">build</span></code> will build gdl in <code class="docutils literal notranslate"><span class="pre">build</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">build_gdl.sh</span> <span class="pre">install</span></code>.</p></li>
</ul>
<p>This is the simplest way.</p>
<p>GDL is built with wxWidgets graphic interface, but the X11 graphic windows are still there and can be called by a switch in the gdl command, see output of <code class="docutils literal notranslate"><span class="pre">gdl</span> <span class="pre">-h</span></code></p>
<p>This script is very frequently tested on OSX 10.14.6 and 11.3. Brew may have side effects (updates are frequent and quite long, may have conflict if machine with multi-users, projects asking for login/pass). Usually just reading the messages, using ‘brew doctor’, passing when login/pass should be enough.</p>
<p>A summary working on up-to-date 10.14.6 &amp; 11.3, assuming : Xcode up-to-date, you are sudo for Brew :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">git</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">cmake</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gnudatalanguage</span><span class="o">/</span><span class="n">gdl</span>
<span class="n">cd</span> <span class="n">gdl</span>
<span class="n">bash</span> <span class="n">scripts</span><span class="o">/</span><span class="n">build_gdl</span><span class="o">.</span><span class="n">sh</span> <span class="n">prep</span>
<span class="n">bash</span> <span class="n">scripts</span><span class="o">/</span><span class="n">build_gdl</span><span class="o">.</span><span class="n">sh</span> <span class="n">configure</span>
<span class="n">bash</span> <span class="n">scripts</span><span class="o">/</span><span class="n">build_gdl</span><span class="o">.</span><span class="n">sh</span> <span class="n">build</span>
</pre></div>
</div>
<p>FYI, the current version version of CLang (the C/C++ compiler used in the script by default) is now broken in up-to-date OSX 10.14.6</p>
<p><em>or</em> <code class="docutils literal notranslate"><span class="pre">Way</span> <span class="pre">2</span></code></p>
<ul class="simple">
<li><p>rebuild GDL using fresh libraries from your favorite brew/fink… , the GDL current sources, and cmake. Make sure you read “Compilation notes” below, some things are tricky.</p></li>
</ul>
<section id="notes">
<h2>notes<a class="headerlink" href="#notes" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>GDL uses plplot. plplot NEEDS to be compiled with option DYNDRIVERS=ON . This is <em>not</em> what Brew or other installers provide. You need to recompile and install plplot. The script build_gdl.sh of ‘Way 1’ does it, applying patches in gdl/scripts/deps/macos .</p></li>
<li><p>You may need to <strong>MAKE GDL AN APP</strong>. It is often recommended that a program be put in a app, see <a class="reference external" href="https://wiki.wxwidgets.org/WxMac-specific_topics#Building_a_MacOSX_application_bundle">this topic</a> . At the moment, GDL does not build as a nice app. But if you use a widget that needs to type some text in text areas or comboboxes, etc, you MUST call gdl as an app.
The simplest form of an App is just a serie of directories:
<code class="docutils literal notranslate"><span class="pre">./gdl/Contents/MacOS/gdl</span></code>
where gdl is a link to the installed gdl : <code class="docutils literal notranslate"><span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">./gdl/Contents/MacOS/gdl</span>&#160; <span class="pre">/somewhere/local/bin/gdl</span> </code>
In other words, calling gdl as <code class="docutils literal notranslate"><span class="pre">/somewhere/local/bin/gdl</span></code> will not pass keyboard events to widgets, callg gdl as <code class="docutils literal notranslate"><span class="pre">./gdl/Contents/MacOS/gdl</span></code> will. Contributions welcome to get a real App !</p></li>
<li><p>Recent changes in GDL have permitted an ‘unified’ version compilable indifferently under linux, mac OSX and Windows. It uses wxWidgets for graphics and widgets, on Mac OSX forget X11, welcome wxmac! (but the X11 windows are still available, see how in <code class="docutils literal notranslate"><span class="pre">gdl</span> <span class="pre">-h</span></code>)</p></li>
</ul>
</section>
<section id="compilation-notes">
<h2>compilation notes<a class="headerlink" href="#compilation-notes" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Depending of OSX version, default Clang may or not come with OpenMP. If OpenMP is not around, we need to deactivated it :</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">.</span> <span class="p">[</span><span class="n">others</span> <span class="n">flags</span><span class="p">]</span> <span class="o">-</span><span class="n">DOPENMP</span><span class="o">=</span><span class="n">OFF</span>
</pre></div>
</div>
<p>but, having OpenMP, Eigen and compiling GDL in Release (-O3) mode are the only way to have a GDL on par with IDL for speed.</p>
<ul class="simple">
<li><p>Readline. Editline is not fully compliant with Readline but it wrongly made symbolic links with readline headers files. Very dangerous. You must install a clean Readline lib. around (the one provided by Brew is OK) then cleanly link to it :</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">.</span> <span class="p">[</span><span class="n">others</span> <span class="n">flags</span><span class="p">]</span> <span class="o">-</span><span class="n">DREADLINEDIR</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">readline</span><span class="o">/</span>
</pre></div>
</div>
<ul class="simple">
<li><p>An example working (tested) on OSX 10.11, 10.12 &amp; 10.14 (with Readline provided by Brew, and Cmake &gt;= 3.0) :</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gnudatalanguage</span><span class="o">/</span><span class="n">gdl</span>
<span class="n">cd</span> <span class="n">gdl</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span> <span class="o">-</span><span class="n">DREADLINEDIR</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">readline</span><span class="o">/</span> <span class="o">-</span><span class="n">DOPENMP</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DGEOTIFF</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DHDF</span><span class="o">=</span><span class="n">OFF</span>  <span class="o">-</span><span class="n">DUDUNITS2</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DGRIB</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DGLPK</span><span class="o">=</span><span class="n">OFF</span> 
<span class="n">make</span> <span class="o">-</span><span class="n">j</span> <span class="mi">4</span>
</pre></div>
</div>
<p>But in the above, you can remove <code class="docutils literal notranslate"><span class="pre">-DGEOTIFF=OFF</span> <span class="pre">-DHDF=OFF</span>&#160; <span class="pre">-DUDUNITS2=OFF</span> <span class="pre">-DGRIB=OFF</span> <span class="pre">-DGLPK=OFF</span> </code> provided you have installed the corresponding library. Each time you add a library and call cmake to recompile: it is <strong>mandatory</strong> to clean the cache before running again cmake (rm -f CMakeCache.txt)</p>
</section>
<section id="git-issues">
<h2>Git issues<a class="headerlink" href="#git-issues" title="Permalink to this heading">¶</a></h2>
<p>Since an upgrade of OSX, my <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> was not OK any more (and the ssh -X too … stupid system). A effective solution for Git was :
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">url.https://github.com/.insteadOf</span> <span class="pre">git://github.com/</span></code>
(from <a class="reference external" href="https://stackoverflow.com/questions/72486457/fatal-unable-to-connect-to-github-com-github-com0-140-82-121-4-errno-unkno">stackoverflow</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      </div>
      <div id="sidebar">
        <h3 style="margin-top: 1.5em;">Navigation</h3>
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">GDL - GNU Data Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">Downloads</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../wiki.html">Wiki Contents</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="C----Compilers.html">C Compilers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Command-Line-edition-in-GDL.html">Command Line edition in GDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="Foreword.html">Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="GDL-in-a-Docker-container.html">GDL in a Docker container</a></li>
<li class="toctree-l2"><a class="reference internal" href="GDL-on-BSD.html">GDL on BSD</a></li>
<li class="toctree-l2"><a class="reference internal" href="GDL-on-Linux.html">GDL on Linux</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GDL on OSX</a></li>
<li class="toctree-l2"><a class="reference internal" href="GDL-on-Windows.html">GDL on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="Home.html">Home</a></li>
<li class="toctree-l2"><a class="reference internal" href="How-to-get-a-given-Pull-Request-%28PR%29.html">How to get a given Pull Request (PR)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Known-issues.html">Known issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="Packaged-versions.html">Packaged versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tested-systems-%28Linux%2C-BSD%2C-OSX%2C-MSwin%29.html">Tested systems (Linux, BSD, OSX, MSwin)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Third-party-librairies.html">Third party librairies</a></li>
<li class="toctree-l2"><a class="reference internal" href="ToDo-list.html">ToDo list</a></li>
</ul>
</li>
</ul>

        <div role="search">
          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../search.html" method="get">
              <input type="text" name="q" />
              <input type="submit" value="Go" />
          </form>
        </div>
      </div>
    </div>

    <div id="footer-wrap">
      <div id="footer-content">
        <p>
          Website content is developed by The GDL Team and is released under the CC BY-SA license (i.e. Wikipedia compatible)<br>
          GDL documentation is a part of the GDL project and is released under the GNU General Public License<br>
          Website layout based on the <strong>Colourise</strong> template by <a href="http://www.styleshout.com/">styleshout.com</a><br>
        </p>
      </div>
    </div>
  </div>

  </body>
</html>